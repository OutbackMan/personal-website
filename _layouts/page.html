<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="{{ page.description }}" />
  <link rel="shortcut icon" href="{{ site.url }}/images/icon.ico" />
  <link rel="stylesheet" href="{{ site.url }}/style.css" />
  <style></style>
  <title>{{ page.title }}</title>
</head>

<body class="Display__">
  {% include preloader.html %}
  <section class="Page__"> 
    {% include header.html %}
    <main class="{{ page.identifier | capitalize }}__">
        {{ content }}
    </main>
  </section>
  <script src="script.js"></script>
  <script>
{% assign num_layout_resources = 4 %}
{% assign num_resources_to_load = page.num_resources | plus: num_layout_resources %}
    function execute_page_functions() {
      let page_functions = []; 

	  {% for page_function in page.functions %}
        page_functions.push({{ page_function.name }});
	  {% endfor %}

        preload_page({{ num_resources_to_load }}, page_functions);
	  }

    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", execute_page_functions);
    } else {
	  execute_page_functions();
    }
  </script>
</body>

</html>
